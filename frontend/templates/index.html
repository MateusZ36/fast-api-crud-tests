{% extends "main.html" %}
{% block body %}
<script>
function validateForm() {
  var title = document.getElementById("title").value;
  var description = document.getElementById("description").value;
  if (title.trim() == "" || description.trim() == "") {
    alert("Title and description cannot be empty");
    return false;
  }
}
</script>

<h1>Tasks</h1>
<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Title</th>
      <th>Description</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for task in tasks %}
      <tr>
        <td>{{ task.id }}</td>
        <td>{{ task.title }}</td>
        <td>{{ task.description }}</td>
        <td>
          <button class="edit" onclick="location.href='{{ url_for('edit_task', id=task.id) }}'">Edit</button>
          <button class="delete" onclick="if (confirm('Are you sure you want to delete this task?')) { location.href='{{ url_for('delete_task', id=task.id) }}' }">Delete</button>
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>
<h2>Add a Task</h2>
<form action="{{ url_for('add_task') }}" method="post" onsubmit="return validateForm()">
  <label for="title">Title:</label>
  <input type="text" id="title" name="title"><br>
  <label for="description">Description:</label>
  <input type="text" id="description" name="description"><br>
  <input class="create" type="submit" value="Add Task">
</form>


{% endblock %}